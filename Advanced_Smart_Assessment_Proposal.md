# 智能组卷算法优化方案：从“静态加权”向“动态自适应”进化

## 1. 现状分析与痛点

当前的智能组卷算法基于**“预设权重 + 随机抽样”**的模式。虽然能够覆盖考纲重点，但存在以下局限性：

*   **缺乏个性化深度**：所有用户的权重策略是一致的（基于全局考纲权重），无法根据用户个人的历史答题数据（如已攻克的薄弱点、反复出错的顽疾）进行动态调整。
*   **静态难度**：试卷的整体难度是随机的，无法像 IRT（项目反应理论）那样根据用户当前的能力水平提供“跳一跳够得着”的题目，导致学霸觉得无聊，学渣觉得受挫。
*   **反馈滞后**：AI 生成的题目是“离线”或“预生成”的，无法在用户答题过程中实时感知用户的知识盲区并即时生成针对性题目。

## 2. 优化方案：构建 D-CAT (Dynamic Computerized Adaptive Testing) 系统

我们建议将现有的系统升级为 **D-CAT（动态计算机自适应测评）** 系统，引入知识追踪模型和强化学习策略。

### 2.1 核心算法升级

#### 2.1.1 引入 IRT (项目反应理论) 模型
*   **原理**：为每道题目标记三个参数：
    *   **难度 (Difficulty)**：题目有多难。
    *   **区分度 (Discrimination)**：题目区分高水平和低水平考生的能力。
    *   **猜测度 (Guessing)**：考生猜对的概率。
*   **应用**：系统实时计算考生的**能力值 ($\theta$)**。如果考生连续答对中等难度题，系统下一次组卷或下一题会自动推送更高难度的题目，以更精确地测量其能力上限。

#### 2.1.2DKT (深度知识追踪) 算法
*   **原理**：使用 RNN (循环神经网络) 或 Transformer 模型（如 SAKT - Self-Attentive Knowledge Tracing）来建模用户的知识状态随时间的变化。
*   **应用**：
    *   不再仅仅统计“正确率”，而是预测用户**在下一时刻做对某知识点题目的概率**。
    *   **动态权重调整**：对于模型预测掌握概率 < 0.4 的知识点（即盲区），在下一次组卷时**自动大幅提升其抽样权重**，实现“哪里不会考哪里”。

### 2.2 组卷逻辑的重构：三阶段自适应策略

建议将单一的组卷模式拆分为三个阶段，满足不同备考周期的需求：

#### 阶段一：全域扫描 (摸底模式) - *当前已实现*
*   **目标**：快速覆盖大纲所有章节，建立用户初始画像。
*   **策略**：基于考纲标准权重的分层抽样（即现有逻辑）。
*   **适用**：新用户首次测评。

#### 阶段二：精准狙击 (突破模式) - *建议新增*
*   **目标**：针对薄弱环节进行高强度训练。
*   **策略**：**基于错题链的关联推荐**。
    *   若用户在“数据库范式”题上出错，系统不仅增加该知识点权重，还会自动关联前置知识点（如“E-R图”）和后置知识点（如“反规范化设计”）的题目。
    *   **AI 实时变式**：对于用户的错题，**实时**调用大模型生成 3 道“孪生题”（考察点相同但场景不同），强制用户进行举一反三的练习，直到做对为止。

#### 阶段三：全真模拟 (冲刺模式) - *建议新增*
*   **目标**：模拟真实考试的压力和分布。
*   **策略**：**遗传算法 (Genetic Algorithm)**。
    *   设定约束条件：总分期望=75，难度系数=0.7（偏难），知识点覆盖率=100%的核心考点。
    *   通过遗传算法在海量题库中迭代搜索出最符合上述约束的题目组合，确保试卷的信度和效度达到真题水平。

### 2.3 AI 能力的深度集成

#### 2.3.1 动态微调 (Prompt Engineering Optimization)
*   **现状**：AI 生成题目主要基于“种子题”进行仿写。
*   **优化**：引入**RAG (检索增强生成)**。
    *   在生成题目时，检索该知识点下的官方教材原文、高频易错项解析作为 Context 输入给大模型。
    *   指令示例：“请基于《系统架构设计师教程》第 5 章关于‘缓存一致性’的描述，生成一道结合‘分布式电商库存扣减’场景的案例分析选择题，干扰项需包含常见的‘先删缓存后更新数据库’的错误逻辑。”

#### 2.3.2 语义级查重与质量控制
*   利用向量数据库 (Vector DB) 存储所有题目的语义向量。
*   在 AI 生成新题后，计算其与库中已有题目的**余弦相似度**。
    *   若相似度 > 0.9：判定为重复，丢弃。
    *   若相似度 < 0.6：判定为新颖度高，优先入库。
    *   确保题库的纯净度和多样性。

## 3. 技术落地路线图

| 阶段 | 核心任务 | 预期效果 |
| :--- | :--- | :--- |
| **P1 (当前)** | 静态权重 + 随机抽样 | 满足基础刷题需求，覆盖面广。 |
| **P2 (近期)** | **引入错题加权机制** | 用户做错的知识点，在下次组卷时权重 * 2.0。 |
| **P3 (中期)** | **错题孪生生成** | 针对错题，实时调用 AI 生成变式题并推荐给用户。 |
| **P4 (远期)** | **DKT 知识追踪模型** | 实现真正的“千人千面”，系统比用户更懂他的知识盲区。 |

## 4. 总结

现有的方案是“广撒网”，优化后的方案是“精确制导”。通过引入用户历史行为数据的反馈回路（Feedback Loop）和 AI 的实时生成能力，系统将从一个简单的“题库播放器”进化为一位懂策略的“AI 备考教练”。
